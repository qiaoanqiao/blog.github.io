"use strict";$(document).on("DOMContentLoaded",function(){var t={lines:[],push:function(i){this.lines.push(i)},init:function(){this.lines.forEach(function(i){i.init()})},arrow:function(){this.lines.forEach(function(i){i.arrow()})},close:function(){this.lines.forEach(function(i){i.close()})}};function i(i){this.el=$(i.el),this.status=$.extend({},{init:{width:"100%",opacity:1,transform:"rotate(0deg)",top:0,left:0}},i.status),this.init=function(){this.transform("init")},this.arrow=function(){this.transform("arrow")},this.close=function(){this.transform("close")},this.transform=function(i){this.el.css(this.status[i])}}var o="left"!==CONFIG.sidebar.position,e=new i({el:".sidebar-toggle-line-first",status:o?{arrow:{width:"50%",transform:"rotate(-45deg)",top:"2px"},close:{width:"100%",transform:"rotate(-45deg)",top:"5px"}}:{arrow:{width:"50%",transform:"rotate(45deg)",top:"2px",left:"50%"},close:{width:"100%",transform:"rotate(-45deg)",top:"5px",left:"0px"}}}),s=new i({el:".sidebar-toggle-line-middle",status:o?{arrow:{width:"90%"},close:{opacity:0}}:{arrow:{width:"90%",left:"2px"},close:{opacity:0,left:"0px"}}}),n=new i({el:".sidebar-toggle-line-last",status:o?{arrow:{width:"50%",transform:"rotate(45deg)",top:"-2px"},close:{width:"100%",transform:"rotate(45deg)",top:"-5px"}}:{arrow:{width:"50%",transform:"rotate(-45deg)",top:"-2px",left:"50%"},close:{width:"100%",transform:"rotate(45deg)",top:"-5px",left:"0px"}}});t.push(e),t.push(s),t.push(n);var a=CONFIG.sidebar.width||"320px",r={},d={};function l(){($("#footer").attr("position")?$(".container").height()+$("#footer").outerHeight(!0):$(".container").height())<window.innerHeight?$("#footer").css({position:"fixed",bottom:0,left:0,right:0}).attr("position","fixed"):$("#footer").removeAttr("style position")}({sidebarEl:$(".sidebar"),isSidebarVisible:!1,init:function(){t.init(),$("body").on("mousedown",this.mousedownHandler.bind(this)).on("mouseup",this.mouseupHandler.bind(this)),$("#sidebar-dimmer").on("click",this.clickHandler.bind(this)),$(".sidebar-toggle").on("click",this.clickHandler.bind(this)).on("mouseenter",this.mouseEnterHandler.bind(this)).on("mouseleave",this.mouseLeaveHandler.bind(this)),this.sidebarEl.on("touchstart",this.touchstartHandler.bind(this)).on("touchend",this.touchendHandler.bind(this)).on("touchmove",function(i){i.preventDefault()}),$(document).on("sidebar:show",this.showSidebar.bind(this)).on("sidebar:hide",this.hideSidebar.bind(this))},mousedownHandler:function(i){r.X=i.pageX,r.Y=i.pageY},mouseupHandler:function(i){var t=i.pageX-r.X,e=i.pageY-r.Y,s=Math.sqrt(t*t+e*e)<20&&$(i.target).is(".main");this.isSidebarVisible&&(s||$(i.target).is("img.medium-zoom-image, .fancybox img"))&&this.hideSidebar()},clickHandler:function(){this.isSidebarVisible?this.hideSidebar():this.showSidebar()},mouseEnterHandler:function(){this.isSidebarVisible||t.arrow()},mouseLeaveHandler:function(){this.isSidebarVisible||t.init()},touchstartHandler:function(i){d.X=i.originalEvent.touches[0].clientX,d.Y=i.originalEvent.touches[0].clientY},touchendHandler:function(i){var t=i.originalEvent.changedTouches[0].clientX-d.X,e=i.originalEvent.changedTouches[0].clientY-d.Y,s=Math.abs(e)<20&&(30<t&&o||t<-30&&!o);this.isSidebarVisible&&s&&this.hideSidebar()},showSidebar:function(){this.isSidebarVisible=!0;var i=this;$.isFunction($("html").velocity)?this.sidebarEl.stop().velocity({width:a},{display:"block",duration:200,begin:function(){$(".sidebar .motion-element").not(".site-state").velocity(o?"transition.slideRightIn":"transition.slideLeftIn",{stagger:50,drag:!0}),$(".site-state").velocity(o?"transition.slideRightIn":"transition.slideLeftIn",{stagger:50,drag:!0,display:"flex"})},complete:function(){i.sidebarEl.addClass("sidebar-active")}}):($(".sidebar .motion-element").show(),this.sidebarEl.stop().animate({width:a,display:"block"},200,function(){i.sidebarEl.addClass("sidebar-active")})),t.close(),NexT.utils.isDesktop()&&$("body").stop().animate(o?{"padding-right":a}:{"padding-left":a},200)},hideSidebar:function(){this.isSidebarVisible=!1,this.sidebarEl.find(".motion-element").hide(),this.sidebarEl.stop().animate({width:0,display:"none"}).removeClass("sidebar-active"),t.init(),NexT.utils.isDesktop()&&$("body").stop().animate(o?{"padding-right":0}:{"padding-left":0}),$(".post-toc-wrap")&&("block"===$(".site-overview-wrap").css("display")?$(".post-toc-wrap").removeClass("motion-element"):$(".post-toc-wrap").addClass("motion-element"))}}).init(),l(),$(window).on("resize scroll",l)});